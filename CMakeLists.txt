cmake_minimum_required(VERSION 3.16)

project(NewBoard VERSION 0.1 LANGUAGES CXX)

set(CMAKE_AUTOUIC ON)
set(CMAKE_AUTOMOC ON)
set(CMAKE_AUTORCC ON)

set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)

find_package(QT NAMES Qt6 Qt5 REQUIRED COMPONENTS Widgets)
find_package(Qt${QT_VERSION_MAJOR} REQUIRED COMPONENTS Widgets)


set(PROJECT_SOURCES
        main.cpp
        mainwindow.cpp
        mainwindow.h
        UI/mainWindow.ui
    )

if(${QT_VERSION_MAJOR} GREATER_EQUAL 6)
    qt_add_executable(NewBoard
        MANUAL_FINALIZATION
        ${PROJECT_SOURCES}
    )
# Define target properties for Android with Qt 6 as:
#    set_property(TARGET NewBoard APPEND PROPERTY QT_ANDROID_PACKAGE_SOURCE_DIR
#                 ${CMAKE_CURRENT_SOURCE_DIR}/android)
# For more information, see https://doc.qt.io/qt-6/qt-add-executable.html#target-creation
else()
    if(ANDROID)
        add_library(NewBoard SHARED
            ${PROJECT_SOURCES}
        )
# Define properties for Android with Qt 5 after find_package() calls as:
#    set(ANDROID_PACKAGE_SOURCE_DIR "${CMAKE_CURRENT_SOURCE_DIR}/android")
    else()
        add_executable(NewBoard
            ${PROJECT_SOURCES}
            Resources/customizations/fonts/AndBasR.ttf Resources/customizations/fonts/Bstgreek.ttf Resources/customizations/fonts/ec_cour.ttf Resources/customizations/fonts/ecl_cour.ttf Resources/customizations/fonts/EcritureA-Italique-Ligne.otf Resources/customizations/fonts/EcritureA-Italique-Orne-Ligne.otf Resources/customizations/fonts/EcritureA-Italique-Orne.otf Resources/customizations/fonts/EcritureA-Italique.otf Resources/customizations/fonts/EcritureA-Romain-Ligne.otf Resources/customizations/fonts/EcritureA-Romain-Orne-Ligne.otf Resources/customizations/fonts/EcritureA-Romain-Orne.otf Resources/customizations/fonts/EcritureA-Romain.otf Resources/customizations/fonts/EcritureB-Italique-Ligne.otf Resources/customizations/fonts/EcritureB-Italique-Orne-Ligne.otf Resources/customizations/fonts/EcritureB-Italique-Orne.otf Resources/customizations/fonts/EcritureB-Italique.otf Resources/customizations/fonts/EcritureB-Romain-Ligne.otf Resources/customizations/fonts/EcritureB-Romain-Orne-Ligne.otf Resources/customizations/fonts/EcritureB-Romain-Orne.otf Resources/customizations/fonts/EcritureB-Romain.otf Resources/customizations/fonts/GETypoLibre.otf Resources/etc/img/loading.gif Resources/etc/freezedWidgetWrapper.html Resources/etc/intranet-podcast-metadata.template Resources/etc/npapi-wrapper.application.x-shockwave-flash.swf.htm Resources/etc/npapi-wrapper.config.xml Resources/etc/WBoard.css Resources/fonts/COPYRIGHT Resources/fonts/d050000l.pfb Resources/fonts/n019003l.pfb Resources/fonts/n019004l.pfb Resources/fonts/n019023l.pfb Resources/fonts/n019024l.pfb Resources/fonts/n021003l.pfb Resources/fonts/n021004l.pfb Resources/fonts/n021023l.pfb Resources/fonts/n021024l.pfb Resources/fonts/n022003l.pfb Resources/fonts/n022004l.pfb Resources/fonts/n022023l.pfb Resources/fonts/n022024l.pfb Resources/fonts/s050000l.pfb Resources/images/backgroundPalette/background1.svg Resources/images/backgroundPalette/background1On.svg Resources/images/backgroundPalette/background2.svg Resources/images/backgroundPalette/background2On.svg Resources/images/backgroundPalette/background3.svg Resources/images/backgroundPalette/background3On.svg Resources/images/backgroundPalette/background4.svg Resources/images/backgroundPalette/background4On.svg Resources/images/backgroundPalette/background5.svg Resources/images/backgroundPalette/background5On.svg Resources/images/backgroundPalette/background6.svg Resources/images/backgroundPalette/background6On.svg Resources/images/backgroundPalette/resetDefaultGridSize.svg Resources/images/cursors/drawCompass.png Resources/images/cursors/drawRulerLine.png Resources/images/cursors/eraser.png Resources/images/cursors/laser.png Resources/images/cursors/marker.png Resources/images/cursors/play.png Resources/images/cursors/resize.png Resources/images/cursors/rotate.png Resources/images/cursors/zoomIn.png Resources/images/cursors/zoomOut.png Resources/images/erasePalette/eraseAll.svg Resources/images/erasePalette/eraseAnnotation.svg Resources/images/erasePalette/eraseBackground.svg Resources/images/erasePalette/eraseItem.svg Resources/images/extraPalette/blackout.png Resources/images/extraPalette/blackoutOn.png Resources/images/extraPalette/compass.png Resources/images/extraPalette/compassOn.png Resources/images/extraPalette/keyboard.png Resources/images/extraPalette/keyboardOn.png Resources/images/extraPalette/mask.png Resources/images/extraPalette/maskOn.png Resources/images/extraPalette/oEmbed.png Resources/images/extraPalette/podcast.png Resources/images/extraPalette/podcastOn.png Resources/images/extraPalette/protractor.png Resources/images/extraPalette/protractorOn.png Resources/images/extraPalette/ruler.png Resources/images/extraPalette/rulerOn.png Resources/images/extraPalette/trapFlash.png Resources/images/extraPalette/webTrap.png Resources/images/extraPalette/webTrapEnabled.png Resources/images/flags/en.png Resources/images/flags/zh-hans.png Resources/images/libpalette/ApplicationsCategory.svg Resources/images/libpalette/AudiosCategory.svg Resources/images/libpalette/back.png Resources/images/libpalette/FavoritesCategory.svg Resources/images/libpalette/folder.svg Resources/images/libpalette/home.png Resources/images/libpalette/InteractivesCategory.svg Resources/images/libpalette/loading.png Resources/images/libpalette/miniFavorite.png Resources/images/libpalette/miniNewFolder.png Resources/images/libpalette/miniSearch.png Resources/images/libpalette/miniTrash.png Resources/images/libpalette/movieIcon.svg Resources/images/libpalette/MoviesCategory.svg Resources/images/libpalette/notFound.png Resources/images/libpalette/PicturesCategory.svg Resources/images/libpalette/ShapesCategory.svg Resources/images/libpalette/social.png Resources/images/libpalette/soundIcon.svg Resources/images/libpalette/trash_favorite.svg Resources/images/libpalette/TrashCategory.svg Resources/images/libpalette/WebSearchCategory.svg Resources/images/stylusPalette/arrow.png Resources/images/stylusPalette/arrowOn.png Resources/images/stylusPalette/captureArea.png Resources/images/stylusPalette/captureAreaOn.png Resources/images/stylusPalette/eraser.png Resources/images/stylusPalette/eraserArrow.png Resources/images/stylusPalette/eraserOn.png Resources/images/stylusPalette/eraserOnArrow.png Resources/images/stylusPalette/hand.png Resources/images/stylusPalette/handOn.png Resources/images/stylusPalette/handPlay.png Resources/images/stylusPalette/handPlayOn.png Resources/images/stylusPalette/laser.png Resources/images/stylusPalette/laserOn.png Resources/images/stylusPalette/line.png Resources/images/stylusPalette/lineOn.png Resources/images/stylusPalette/marker.png Resources/images/stylusPalette/markerArrow.png Resources/images/stylusPalette/markerOn.png Resources/images/stylusPalette/markerOnArrow.png Resources/images/stylusPalette/pen.png Resources/images/stylusPalette/penArrow.png Resources/images/stylusPalette/penOn.png Resources/images/stylusPalette/penOnArrow.png Resources/images/stylusPalette/restoreZoom.png Resources/images/stylusPalette/text.png Resources/images/stylusPalette/textOn.png Resources/images/stylusPalette/zoomIn.png Resources/images/stylusPalette/zoomInOn.png Resources/images/stylusPalette/zoomOut.png Resources/images/stylusPalette/zoomOutOn.png Resources/images/toolbar/addBookmark.png Resources/images/toolbar/addInteractiveToLibrary.png Resources/images/toolbar/addToDocument.png Resources/images/toolbar/addToLibrary.png Resources/images/toolbar/addToolToLibrary.png Resources/images/toolbar/addToPage.png Resources/images/toolbar/addToWorkingDoc.png Resources/images/toolbar/background.png Resources/images/toolbar/board.png Resources/images/toolbar/boardOn.png Resources/images/toolbar/bookmarks.png Resources/images/toolbar/captureArea.png Resources/images/toolbar/captureAreaOn.png Resources/images/toolbar/captureScreen.png Resources/images/toolbar/captureScreenOn.png Resources/images/toolbar/captureWindow.png Resources/images/toolbar/clearPage.png Resources/images/toolbar/color.png Resources/images/toolbar/copy.png Resources/images/toolbar/cut.png Resources/images/toolbar/deleteDocument.png Resources/images/toolbar/deleteFolder.png Resources/images/toolbar/display.png Resources/images/toolbar/documents.png Resources/images/toolbar/duplicate.png Resources/images/toolbar/eraserTool.png Resources/images/toolbar/export.png Resources/images/toolbar/extraTool.png Resources/images/toolbar/eyeClosed.png Resources/images/toolbar/eyeOpened.png Resources/images/toolbar/group.png Resources/images/toolbar/hide.png Resources/images/toolbar/home.png Resources/images/toolbar/import.png Resources/images/toolbar/largeEraser.png Resources/images/toolbar/largePen.png Resources/images/toolbar/library.png Resources/images/toolbar/lineTool.png Resources/images/toolbar/mediumEraser.png Resources/images/toolbar/mediumPen.png Resources/images/toolbar/menu.png Resources/images/toolbar/mic.png Resources/images/toolbar/micOff.png Resources/images/toolbar/newDocument.png Resources/images/toolbar/newFolder.png Resources/images/toolbar/newPage.png Resources/images/toolbar/next.png Resources/images/toolbar/nextPageOn.png Resources/images/toolbar/open.png Resources/images/toolbar/pageSize.png Resources/images/toolbar/paste.png Resources/images/toolbar/pause.png Resources/images/toolbar/pdf.png Resources/images/toolbar/plusBlack.png Resources/images/toolbar/plusBlackOn.png Resources/images/toolbar/previous.png Resources/images/toolbar/previousPageOn.png Resources/images/toolbar/print.png Resources/images/toolbar/profile.png Resources/images/toolbar/proto.png Resources/images/toolbar/quit.png Resources/images/toolbar/quitOn.png Resources/images/toolbar/record.png Resources/images/toolbar/redo.png Resources/images/toolbar/redoOn.png Resources/images/toolbar/reload.png Resources/images/toolbar/remove.png Resources/images/toolbar/removeBackground.png Resources/images/toolbar/rename.png Resources/images/toolbar/setBackground.png Resources/images/toolbar/settings.png Resources/images/toolbar/smallEraser.png Resources/images/toolbar/smallerText.png Resources/images/toolbar/smallPen.png Resources/images/toolbar/softwareUpdate.png Resources/images/toolbar/stop.png Resources/images/toolbar/stylus.png Resources/images/toolbar/stylusTab.png Resources/images/toolbar/tools.png Resources/images/toolbar/tutorial.png Resources/images/toolbar/undo.png Resources/images/toolbar/undoOn.png Resources/images/toolbar/ungroup.png Resources/images/toolbar/updates.png Resources/images/toolbar/web.png Resources/images/toolbar/webTrap.png Resources/images/toolbar/webTrapEnabled.png Resources/images/toolbar/webUpload.png Resources/images/toolbar/window.png Resources/images/toolPalette/cacheTool.png Resources/images/toolPalette/compassTool.png Resources/images/toolPalette/magnifierTool.png Resources/images/toolPalette/maskTool.png Resources/images/toolPalette/protractorTool.png Resources/images/toolPalette/rulerTool.png Resources/images/toolPalette/triangleTool.png Resources/images/virtual.keyboard/29/backspace.png Resources/images/virtual.keyboard/29/capslock.png Resources/images/virtual.keyboard/29/centre-active.png Resources/images/virtual.keyboard/29/centre-passive.png Resources/images/virtual.keyboard/29/left-active.png Resources/images/virtual.keyboard/29/left-passive.png Resources/images/virtual.keyboard/29/right-active.png Resources/images/virtual.keyboard/29/right-passive.png Resources/images/virtual.keyboard/29/shift.png Resources/images/virtual.keyboard/29/tab.png Resources/images/virtual.keyboard/41/backspace.png Resources/images/virtual.keyboard/41/capslock.png Resources/images/virtual.keyboard/41/centre-active.png Resources/images/virtual.keyboard/41/centre-passive.png Resources/images/virtual.keyboard/41/left-active.png Resources/images/virtual.keyboard/41/left-passive.png Resources/images/virtual.keyboard/41/right-active.png Resources/images/virtual.keyboard/41/right-passive.png Resources/images/virtual.keyboard/41/shift.png Resources/images/virtual.keyboard/41/tab.png Resources/images/addItemToCurrentPage.svg Resources/images/addItemToLibrary.svg Resources/images/addItemToNewPage.svg Resources/images/angleMarker.svg Resources/images/asc.png Resources/images/bigOpenBoard.png Resources/images/cache_circle.png Resources/images/cache_square.png Resources/images/centerAligned.svg Resources/images/circle.svg Resources/images/close.svg Resources/images/closeDisabled.svg Resources/images/closeTool.svg Resources/images/collapse-all.png Resources/images/color.svg Resources/images/currentDocument.png Resources/images/decrease.svg Resources/images/defaultWidgetIcon.png Resources/images/desc.png Resources/images/down_arrow.png Resources/images/duplicate.svg Resources/images/duplicateDisabled.svg Resources/images/edit-mode.png Resources/images/edit-mode.svg Resources/images/expand-all.png Resources/images/eyeClosed.svg Resources/images/eyeOpened.svg Resources/images/favorites.png Resources/images/flash.svg Resources/images/folder.png Resources/images/font.svg Resources/images/frozen.svg Resources/images/general_close.png Resources/images/general_open.png Resources/images/groupItems.svg Resources/images/hflipTool.svg Resources/images/home.svg Resources/images/increase.svg Resources/images/left_arrow.png Resources/images/leftAligned.svg Resources/images/lock.svg Resources/images/locked.svg Resources/images/menu.svg Resources/images/menuDisabled.svg Resources/images/minus.svg Resources/images/moveDown.svg Resources/images/moveDownDisabled.svg Resources/images/moveUp.svg Resources/images/moveUpDisabled.svg Resources/images/myContent.png Resources/images/myfolder.png Resources/images/navig_arrow.png Resources/images/notAligned.svg Resources/images/online.png Resources/images/pause.svg Resources/images/pin.svg Resources/images/play.svg Resources/images/plus.svg Resources/images/reload.svg Resources/images/resetAngle.svg Resources/images/resetTool.svg Resources/images/resize.svg Resources/images/resizeBottom.svg Resources/images/resizeButton.svg Resources/images/resizeCompass.svg Resources/images/resizeLeft.svg Resources/images/resizeRight.svg Resources/images/resizeRuler.svg Resources/images/resizeTool.svg Resources/images/resizeTop.svg Resources/images/right_arrow.png Resources/images/rightAligned.svg Resources/images/rotate.svg Resources/images/rotateProtractor.svg Resources/images/rotateTool.svg Resources/images/roundeRrectangle.svg Resources/images/save.png Resources/images/save.svg Resources/images/setAsBackground.svg Resources/images/shape.png Resources/images/soundOff.svg Resources/images/soundOn.svg Resources/images/stop.svg Resources/images/tab_mask.png Resources/images/tools.png Resources/images/trash.png Resources/images/unfrozen.svg Resources/images/ungroupItems.svg Resources/images/unlock.svg Resources/images/unlocked.svg Resources/images/unpin.svg Resources/images/up_arrow.png Resources/images/vflipTool.svg Resources/images/WBoard.png Resources/images/z_layer_down.svg Resources/images/z_layer_up.svg Resources/library/pictures/Worldmap_wdb_combined.svg Resources/library/shape/blue_arrow_down.svg Resources/library/shape/blue_arrow_left.svg Resources/library/shape/blue_arrow_right.svg Resources/library/shape/blue_arrow_up.svg Resources/library/shape/blue_bubble_speak.svg Resources/library/shape/blue_bubble_speak_left.svg Resources/library/shape/blue_bubble_think.svg Resources/library/shape/blue_cylinder.svg Resources/library/shape/blue_disk.svg Resources/library/shape/blue_exagon.svg Resources/library/shape/blue_pentagon.svg Resources/library/shape/blue_rectangle.svg Resources/library/shape/blue_rectangle_rnd.svg Resources/library/shape/blue_square.svg Resources/library/shape/blue_square_rnd.svg Resources/library/shape/blue_star.svg Resources/library/shape/blue_star_rnd.svg Resources/library/shape/blue_triangle.svg Resources/library/shape/blue_triangle_rnd.svg Resources/library/shape/grey_arrow_down.svg Resources/library/shape/grey_arrow_left.svg Resources/library/shape/grey_arrow_right.svg Resources/library/shape/grey_arrow_up.svg Resources/library/shape/grey_bubble_speak.svg Resources/library/shape/grey_bubble_speak_left.svg Resources/library/shape/grey_bubble_think.svg Resources/library/shape/grey_cylinder.svg Resources/library/shape/grey_disk.svg Resources/library/shape/grey_exagon.svg Resources/library/shape/grey_pentagon.svg Resources/library/shape/grey_rectangle.svg Resources/library/shape/grey_rectangle_rnd.svg Resources/library/shape/grey_square.svg Resources/library/shape/grey_square_rnd.svg Resources/library/shape/grey_star.svg Resources/library/shape/grey_star_rnd.svg Resources/library/shape/grey_triangle.svg Resources/library/shape/grey_triangle_rnd.svg Resources/library/shape/nofill_arrow_down.svg Resources/library/shape/nofill_arrow_left.svg Resources/library/shape/nofill_arrow_right.svg Resources/library/shape/nofill_arrow_up.svg Resources/library/shape/nofill_bubble_speak.svg Resources/library/shape/nofill_bubble_speak_left.svg Resources/library/shape/nofill_bubble_think.svg Resources/library/shape/nofill_cylinder.svg Resources/library/shape/nofill_disk.svg Resources/library/shape/nofill_exagon.svg Resources/library/shape/nofill_octogon.svg Resources/library/shape/nofill_pentagon.svg Resources/library/shape/nofill_rectangle.svg Resources/library/shape/nofill_rectangle_rnd.svg Resources/library/shape/nofill_rhombus.svg Resources/library/shape/nofill_square.svg Resources/library/shape/nofill_square_rnd.svg Resources/library/shape/nofill_star.svg Resources/library/shape/nofill_star_rnd.svg Resources/library/shape/nofill_trapeze.svg Resources/library/shape/nofill_triangle.svg Resources/library/shape/nofill_triangle_rect.svg Resources/library/shape/nofill_triangle_rnd.svg Resources/library/shape/red_arrow_down.svg Resources/library/shape/red_arrow_left.svg Resources/library/shape/red_arrow_right.svg Resources/library/shape/red_arrow_up.svg Resources/library/shape/red_bubble_speak.svg Resources/library/shape/red_bubble_speak_left.svg Resources/library/shape/red_bubble_think.svg Resources/library/shape/red_cylinder.svg Resources/library/shape/red_disk.svg Resources/library/shape/red_exagon.svg Resources/library/shape/red_pentagon.svg Resources/library/shape/red_rectangle.svg Resources/library/shape/red_rectangle_rnd.svg Resources/library/shape/red_square.svg Resources/library/shape/red_square_rnd.svg Resources/library/shape/red_star.svg Resources/library/shape/red_star_rnd.svg Resources/library/shape/red_triangle.svg Resources/library/shape/red_triangle_rnd.svg Resources/library/shape/white_arrow_down.svg Resources/library/shape/white_arrow_left.svg Resources/library/shape/white_arrow_right.svg Resources/library/shape/white_arrow_up.svg Resources/library/shape/white_bubble_speak.svg Resources/library/shape/white_bubble_speak_left.svg Resources/library/shape/white_bubble_think.svg Resources/library/shape/white_cylinder.svg Resources/library/shape/white_disk.svg Resources/library/shape/white_exagon.svg Resources/library/shape/white_pentagon.svg Resources/library/shape/white_rectangle.svg Resources/library/shape/white_rectangle_rnd.svg Resources/library/shape/white_square.svg Resources/library/shape/white_square_rnd.svg Resources/library/shape/white_star.svg Resources/library/shape/white_star_rnd.svg Resources/library/shape/white_triangle.svg Resources/library/shape/white_triangle_rnd.svg Resources/podcast/WBoard.prx Resources/style/treeview-branch-closed.png Resources/style/treeview-branch-open.png Resources/webbrowser/closetab.png Resources/webbrowser/loading.gif Resources/webbrowser/notfound.html Resources/webbrowser/object-wrapper.html   Resources/win/OpenBoardDoc.ico Resources/style.qss Resources/WBoard.qrc UI/blackoutWidget.ui UI/brushProperties.ui UI/documents.ui UI/mainWindow.ui UI/preferences.ui
            mainwindow.h
            mainwindow.cpp
            Source/core/main.cpp
        )
    endif()
endif()

target_link_libraries(NewBoard PRIVATE Qt${QT_VERSION_MAJOR}::Widgets)

# Qt for iOS sets MACOSX_BUNDLE_GUI_IDENTIFIER automatically since Qt 6.1.
# If you are developing for iOS or macOS you should consider setting an
# explicit, fixed bundle identifier manually though.
if(${QT_VERSION} VERSION_LESS 6.1.0)
  set(BUNDLE_ID_OPTION MACOSX_BUNDLE_GUI_IDENTIFIER com.example.NewBoard)
endif()
set_target_properties(NewBoard PROPERTIES
    ${BUNDLE_ID_OPTION}
    MACOSX_BUNDLE_BUNDLE_VERSION ${PROJECT_VERSION}
    MACOSX_BUNDLE_SHORT_VERSION_STRING ${PROJECT_VERSION_MAJOR}.${PROJECT_VERSION_MINOR}
    MACOSX_BUNDLE TRUE
    WIN32_EXECUTABLE TRUE
)

include(GNUInstallDirs)
install(TARGETS NewBoard
    BUNDLE DESTINATION .
    LIBRARY DESTINATION ${CMAKE_INSTALL_LIBDIR}
    RUNTIME DESTINATION ${CMAKE_INSTALL_BINDIR}
)

if(QT_VERSION_MAJOR EQUAL 6)
    qt_finalize_executable(NewBoard)
endif()
